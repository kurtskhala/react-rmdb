{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kurts\\\\react udemy\\\\react-rmdb\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport API from '../API'; //Components\n\nimport Button from './Bottom'; //Styles\n\nimport { Wrapper } from './Login.styles'; //Context\n\nimport { Context } from '../context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(false);\n  const [_user, setUser] = useContext(Context);\n  const navigate = useNavigate();\n\n  const handleSubmit = async () => {\n    setError(false);\n\n    try {\n      const requestToken = await API.getRequestToken();\n      const sessionId = await API.authenticate(requestToken, username, password);\n      console.log(sessionId);\n      setUser({\n        sessionId: sessionId.session_id,\n        username\n      });\n      navigate('/');\n    } catch (error) {\n      setError(true);\n    }\n  };\n\n  const handleInput = e => {\n    const name = e.currentTarget.name;\n    const value = e.currentTarget.value;\n    if (name === 'username') setUsername(value);\n    if (name === 'password') setPassword(value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: \"There was an error!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"UserName:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: username,\n      name: \"username\",\n      onChange: handleInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      value: password,\n      name: \"password\",\n      onChange: handleInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      text: \"Login\",\n      callback: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Login, \"jz6LMCGOwi2D54R0z+qeDMq8nPI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/kurts/react udemy/react-rmdb/src/components/Login.js"],"names":["React","useState","useContext","useNavigate","API","Button","Wrapper","Context","Login","username","setUsername","password","setPassword","error","setError","_user","setUser","navigate","handleSubmit","requestToken","getRequestToken","sessionId","authenticate","console","log","session_id","handleInput","e","name","currentTarget","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,QAA0C,OAA1C;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,GAAP,MAAgB,QAAhB,C,CACA;;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CACA;;AACA,SAASC,OAAT,QAAwB,gBAAxB,C,CACA;;AACA,SAASC,OAAT,QAAwB,YAAxB;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAEhB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,KAAD,CAAlC;AAEA,QAAM,CAACc,KAAD,EAAQC,OAAR,IAAmBd,UAAU,CAACK,OAAD,CAAnC;AACA,QAAMU,QAAQ,GAAGd,WAAW,EAA5B;;AAEA,QAAMe,YAAY,GAAG,YAAY;AAC7BJ,IAAAA,QAAQ,CAAC,KAAD,CAAR;;AACA,QAAI;AACA,YAAMK,YAAY,GAAG,MAAMf,GAAG,CAACgB,eAAJ,EAA3B;AACA,YAAMC,SAAS,GAAG,MAAMjB,GAAG,CAACkB,YAAJ,CACpBH,YADoB,EAEpBV,QAFoB,EAGpBE,QAHoB,CAAxB;AAMAY,MAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AAEAL,MAAAA,OAAO,CAAC;AAACK,QAAAA,SAAS,EAAEA,SAAS,CAACI,UAAtB;AAAkChB,QAAAA;AAAlC,OAAD,CAAP;AAEAQ,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,KAbD,CAaE,OAAOJ,KAAP,EAAc;AACZC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;AACJ,GAlBD;;AAoBA,QAAMY,WAAW,GAAGC,CAAC,IAAI;AACrB,UAAMC,IAAI,GAAGD,CAAC,CAACE,aAAF,CAAgBD,IAA7B;AACA,UAAME,KAAK,GAAGH,CAAC,CAACE,aAAF,CAAgBC,KAA9B;AAEA,QAAGF,IAAI,KAAK,UAAZ,EAAwBlB,WAAW,CAACoB,KAAD,CAAX;AACxB,QAAGF,IAAI,KAAK,UAAZ,EAAwBhB,WAAW,CAACkB,KAAD,CAAX;AAE3B,GAPD;;AASA,sBACE,QAAC,OAAD;AAAA,eACGjB,KAAK,iBAAI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADZ,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAEJ,QAFT;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,QAAQ,EAAEiB;AAJZ;AAAA;AAAA;AAAA;AAAA,YAHF,eASE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,KAAK,EAAEf,QAFT;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,QAAQ,EAAEe;AAJZ;AAAA;AAAA;AAAA;AAAA,YATF,eAeE,QAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,OAAb;AAAqB,MAAA,QAAQ,EAAER;AAA/B;AAAA;AAAA;AAAA;AAAA,YAfF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmBH,CAzDD;;GAAMV,K;UAOeL,W;;;KAPfK,K;AA2DN,eAAeA,KAAf","sourcesContent":["import React, {useState, useContext} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport API from '../API';\r\n//Components\r\nimport Button from './Bottom';\r\n//Styles\r\nimport { Wrapper } from './Login.styles';\r\n//Context\r\nimport { Context } from '../context';\r\n\r\nconst Login = () => {\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState(false);\r\n\r\n    const [_user, setUser] = useContext(Context);\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async () => {\r\n        setError(false);\r\n        try {\r\n            const requestToken = await API.getRequestToken();\r\n            const sessionId = await API.authenticate(\r\n                requestToken,\r\n                username,\r\n                password\r\n            );\r\n\r\n            console.log(sessionId);\r\n\r\n            setUser({sessionId: sessionId.session_id, username});\r\n\r\n            navigate('/');\r\n        } catch (error) {\r\n            setError(true);\r\n        }\r\n    };\r\n\r\n    const handleInput = e => {\r\n        const name = e.currentTarget.name;\r\n        const value = e.currentTarget.value;\r\n\r\n        if(name === 'username') setUsername(value);\r\n        if(name === 'password') setPassword(value);\r\n\r\n    };\r\n\r\n    return (\r\n      <Wrapper>\r\n        {error && <div className=\"error\">There was an error!</div>}\r\n        <label>UserName:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={username}\r\n          name=\"username\"\r\n          onChange={handleInput}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          name=\"password\"\r\n          onChange={handleInput}\r\n        />\r\n        <Button text=\"Login\" callback={handleSubmit} />\r\n      </Wrapper>\r\n    );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}